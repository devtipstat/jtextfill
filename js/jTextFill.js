/*
**************************************
******jTextFill 1.0.1*****************
******jTextFill.js*********************
******Created by Harish U Warrier*****
******Created on 01-06-2015***********
******Modified on 18-06-2015**********
******info@jformslider.com************
******www.jformslider.com*************
**************************************
*/
!function(t){var i=Object();t.fn.jTextFill=function(e){function a(t){return Number(t.replace("px",""))}function l(i,e,a){var l=i.length<a?i.length:a,r=document.createElement("div");t(r).addClass("jtextfill"),t(r).attr("id",e);for(var s=document.createElement("ul"),n=0;l>n;n++){var d=i[n];i[n].hasOwnProperty("html")?d=i[n].html:i[n].hasOwnProperty("value")&&(d=i[n].value);var c=document.createElement("li");c.innerHTML=d,t(c).attr("data-id",n),t(s).append(c)}t("#"+e).length<=0?(t(r).append(s),t("body").append(r)):t("#"+e).html(s)}function r(i,e){var l=e.height(),r=e.width(),s=e.offset(),n=a(e.css("border-right-width"))+a(e.css("border-left-width")),d=a(e.css("margin-right"))+a(e.css("margin-left")),c=a(e.css("padding-right"))+a(e.css("padding-left")),o=a(e.css("padding-bottom"))+a(e.css("padding-top")),f=n+d+c+r,h=s.left+"px",v=s.top+l+o+"px";t("#"+i).css("top",v),t("#"+i).css("left",h),t("#"+i).css("width",f+"px"),t("#"+i).show()}function s(i,e){var a=Array();return t.each(i,function(i,l){l.hasOwnProperty("value")?0===t.trim(l.value).toLowerCase().indexOf(e.toLowerCase())&&a.push(l):0===t.trim(l).toLowerCase().indexOf(e.toLowerCase())&&a.push(l)}),a}function n(e,a){var l=3==arguments.length?arguments[2]:!0,r=t("#"+e+" li.active"),s=r.text();l&&t("#"+e).hide();var n=r.attr("data-id");void 0!=i[e][n]&&(s=i[e][n].hasOwnProperty("value")?i[e][n].value:i[e][n]),t('[data-fill="'+e+'"]').val(s),a.filled(i[e][n])}var d={list:[],minlength:1,limit:10,filled:function(){},clicked:function(){}};e=t.extend(d,e),t(this).each(function(){t(this).attr("autocomplete","off"),t(this).keyup(function(a){var d=a.which,c=[37,38,39,40,13],o=t(this).val();if(!(o.length<e.minlength)){var f=Array(),h=t(this),v=(new Date).valueOf(),u=typeof e.list;t(this)[0].hasAttribute("id")&&""!=t(this).attr("id")||t(this).attr("id","jtextfill"+v),t(this)[0].hasAttribute("data-fill")&&""!=t(this).attr("data-fill")||t(this).attr("data-fill","jtextfilllist"+v);var p=t(this).attr("data-fill");if(-1==t.inArray(d,c)){if("string"==u){var m={key:o};t.getJSON(e.list,m,function(t){var a=s(t,o);i[p]=a,l(a,p,e.limit),r(p,h)})}else if("object"==u||"array"==u){var f=s(e.list,o);i[p]=f,l(f,p,e.limit),r(p,h)}}else if(38==d){var g=t("#"+p+" li.active").prev();g.length>0?(t("#"+p+" li").removeClass("active"),g.addClass("active")):(t("#"+p+" li").removeClass("active"),t("#"+p+" li:first").addClass("active"))}else if(40==d){var x=t("#"+p+" li.active").next();x.length>0?(t("#"+p+" li").removeClass("active"),x.addClass("active")):(t("#"+p+" li").removeClass("active"),t("#"+p+" li:first").addClass("active")),n(p,e,!1)}else if(13==d){{h[0].hasAttribute("data-fill")?h.attr("data-fill"):""}""!=p&&(n(p,e),e.clicked(i[p][t("#"+p+" li.active").attr("data-id")]))}}})}),t("body").on("mouseenter",".jtextfill li",function(){var i=t(this).parents(".jtextfill").attr("id");t("#"+i+" li").removeClass("active"),t(this).addClass("active"),n(i,e,!1)}),t("body").on("click",".jtextfill li",function(){var a=t(this).parents(".jtextfill").attr("id");n(a,e),e.clicked(i[a][t("#"+a+" li.active").attr("data-id")])}),t("body").click(function(i){t(i.target).css("z-index");t(".jtextfill").hide()})}}(jQuery);